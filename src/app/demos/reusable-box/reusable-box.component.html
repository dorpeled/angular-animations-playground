<div class="demo-container">
  <h2>Reusable Box Animation Demo</h2>
  <p>
    The boxes below demonstrate reusable animation components with different
    timing and easing. This shows how animations can be customized using
    parameters.
  </p>

  <div class="controls">
    <button (click)="restoreAllBoxes()">Restore Missing Boxes</button>
    <button (click)="sortBoxes()">{{ getSortButtonText() }}</button>
  </div>

  <div class="boxes-container" [@listAnimation]="boxes.length">
    <div
      *ngFor="let box of boxes; trackBy: trackById; let i = index"
      class="box"
      [attr.data-entering]="box.entering"
      [style.background-color]="box.color"
      [@boxAnimations]="getAnimationState(box)"
      #boxElement
    >
      <h3>{{ box.title }}</h3>
      <p>{{ box.description }}</p>
      <button class="remove-button" (click)="removeBox(box.id)">Remove</button>
    </div>
  </div>

  <div class="code-explanation">
    <h3>Animation Challenge:</h3>
    <p>Complete the following tasks to see animations in action:</p>
    <ul>
      <li>Implement the animations in reusable-animations.ts</li>
      <li>Add animation triggers to this component's HTML template</li>
      <li>Fix the animation state handling in the component</li>
      <li>Implement smooth enter/leave animations for boxes</li>
      <li>Create position animations for when boxes are sorted</li>
    </ul>
    <p>
      Once completed, you'll have a fully animated component that smoothly
      animates boxes as they enter, leave, and change position.
    </p>
  </div>
</div>
