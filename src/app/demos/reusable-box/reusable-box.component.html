<div class="reusable-box-demo">
  <h2>Reusable Animations Demo</h2>
  <p class="description">
    This demo shows how to create and use reusable animations across different
    components. Each box demonstrates a different fade animation with varying
    timing parameters.
  </p>

  <div class="controls">
    <button (click)="restoreAllBoxes()" *ngIf="boxes.length < 4">
      Restore All Boxes
    </button>
    <button (click)="sortBoxes()" class="sort-button">
      {{ getSortButtonText() }}
    </button>
  </div>

  <div class="boxes-container" [@listAnimation]="boxes.length">
    <div
      class="box"
      *ngFor="let box of boxes; trackBy: trackById"
      [style.background-color]="box.color"
      [@boxAnimation]="box.animation === 'boxAnimation'"
      [@customTiming]="box.animation === 'customTiming'"
      [@fadeAnimation3]="box.animation === 'fadeAnimation3'"
      [@fadeAnimation4]="box.animation === 'fadeAnimation4'"
    >
      <div class="box-header">
        <h3>{{ box.title }}</h3>
        <button class="remove-btn" (click)="removeBox(box.id)">Ã—</button>
      </div>
      <div class="box-content">
        <p>{{ box.description }}</p>
      </div>
    </div>
  </div>

  <div class="code-explanation">
    <h3>How it works:</h3>
    <p>This demo shows how to create and use reusable animations:</p>
    <ul>
      <li>
        Each box has its own fade animation with different timing parameters
      </li>
      <li>The container uses a stagger animation when new items are added</li>
      <li>
        Sorting creates a new array, which triggers the container animation
      </li>
      <li>The trackBy function ensures elements are properly identified</li>
      <li>Angular animations handle all transitions without CSS</li>
    </ul>
    <p>
      Try sorting the boxes in different orders or removing/restoring them to
      see the different animations in action.
    </p>
  </div>
</div>
