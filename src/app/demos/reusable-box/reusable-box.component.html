<div class="demo-container">
  <h2>Reusable Box Animation Demo</h2>
  <p>
    The boxes below demonstrate reusable animation components with different
    timing and easing. This shows how animations can be customized using
    parameters.
  </p>

  <div class="controls">
    <button (click)="restoreAllBoxes()">Restore All Boxes</button>
    <button (click)="sortBoxes()">{{ getSortButtonText() }}</button>
  </div>

  <div class="boxes-container" [@listAnimation]="boxes.length">
    <div
      *ngFor="let box of boxes; trackBy: trackById; let i = index"
      class="box"
      [style.background-color]="box.color"
      [@boxAnimations]="getAnimationState(box)"
      #boxElement
    >
      <h3>{{ box.title }}</h3>
      <p>{{ box.description }}</p>
      <button class="remove-button" (click)="removeBox(box.id)">Remove</button>
    </div>
  </div>

  <div class="code-explanation">
    <h3>How it works:</h3>
    <p>This demo shows how to create and use reusable animations:</p>
    <ul>
      <li>A single animation trigger supports multiple animation states</li>
      <li>Each box demonstrates a different animation timing</li>
      <li>
        When removing items, they collapse with height and margin animations
      </li>
      <li>Sorting uses position tracking to animate items to new positions</li>
      <li>The container uses a stagger animation for new items</li>
      <li>Reusable animations are imported from a shared file</li>
    </ul>
    <p>
      Try sorting the boxes in different orders or removing/restoring them to
      see the different animations in action.
    </p>
  </div>
</div>
